import"./firebase-config-DxLbwtvt.js";import{auth as m}from"./firebase-client-Bklma2ql.js";import{signInWithEmailAndPassword as s}from"https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";import"https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";document.getElementById("admin-form").addEventListener("submit",async function(o){o.preventDefault();const n=document.getElementById("username").value,a=document.getElementById("password").value,e=document.getElementById("error-msg");if(n==="admin"&&a==="irembaba123")try{const t="admin@tasteandgo.com",i="irembaba123";try{await s(m,t,i)}catch(r){console.log("Firebase auth failed, continuing with localStorage only:",r)}localStorage.setItem("adminSession","true"),localStorage.setItem("adminLoginTime",Date.now()),window.location.href="/admin-dashboard.html"}catch(t){console.error("Admin login error:",t),e.textContent="Login failed: "+t.message,e.style.display="block"}else e.textContent="Invalid username or password!",e.style.display="block",setTimeout(()=>{e.style.display="none"},3e3)});if(localStorage.getItem("adminSession")==="true"){const o=localStorage.getItem("adminLoginTime"),n=Date.now(),a=24*60*60*1e3;o&&n-parseInt(o)<a?window.location.href="/admin-dashboard.html":(localStorage.removeItem("adminSession"),localStorage.removeItem("adminLoginTime"))}
